<app-headerpage *ngIf="showHeader" [titleOfPage]="'Perfect Haircut with AI'" [link]="'face'"></app-headerpage>

<div class="container py-5">
    <div class="section-header text-center mb-4">
        <p>Find Your Perfect Look</p>
        <h2>Upload Your Photo & Get Haircut Suggestions</h2>
    </div>

    <div class="row justify-content-center mb-4">
        <div class="col-md-6 text-center">
            <input *ngIf="!isLoading" type="file" (change)="onFileSelected($event)" class="form-control mb-3" accept="image/*">
            <i *ngIf="isLoading" class="fas fa-spinner fa-spin fa-2x"></i>
        </div>
    </div>
    <div class="text-center fw-bold mb-3" style="color: var(--color-primary); font-size: 20px;">
        {{suggestion}}
    </div>

    <div class="d-flex justify-content-center align-items-center" *ngIf="inputImageSrc">
        <div class="position-relative text-center w-25 h-auto">
            <img [src]="inputImageSrc" #inputImage class="img-fluid rounded shadow" />
            <canvas #overlayCanvas class="position-absolute top-0 start-0"></canvas>
        </div>
    </div>

    <div class="row g-3 justify-content-center mt-3" *ngIf="haircutImages.length">
        <div class="section-header text-center mb-4">
            <h2>The Best Haircut</h2>
        </div>
        <div class="col-md-3 col-6" *ngFor="let img of haircutImages">
            <div class="service-item h-100">
                <div class="service-img">
                    <img [src]="img" alt="Suggested Haircut" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>

</div>
